## Введение

### Название

TBD

### Общее описание

Игровой процесс заключается в разведении и выводе новых видов пчел и менеджменте ресурсов, получаемых от них: сами пчелы, производные от них продукты (соты, мед, воск, и т.д.) и обмене с другими игроками этих ресурсов при помощи магазина или аукциона.

### Платформы

Основная платформа - Web. Возможна адаптация для мобильной платформы в будущем

### Возраст целевой аудитории

Игра подходит для широкого диапазона возрастов, 9+

### Конкуренты и вдохновители

Основное вдохновение, благодаря которому появилась задумка - Minecraft, мод Forestry. В силу того, что у автора был слабый комп, он не мог долго играть в Minecraft и поэтому задумал сделать отдельную игру в виде веб-сайта, в которой помимо доступности, не нужно делать лишние действия, как в Minecraft (выживать, копать ресурсы и т.д.) и больше концентрация на выведении и менеджменте пчел.

Конкурентов проекта найдено не было. Один проект на GitHub

[loohhoo/magicalbees](https://github.com/loohhoo/magicalbees)

Находится в зачаточном состоянии и не обновляется уже как 2 года.

[Critter Mound](https://jayseesee.github.io/Crittermound-Fork/)

Упрощенная система скрещивания и больше инкрементальная игра (игра-кликер), чем то, что описывается далее.

### Титульная картинка, концепт арт

TBD

![](data/static/old/someday_maybe/programming_projects/Bee%20breeder/_static_gamedesign/Untitled.png)

## Игровой дизайн

Игра строится вокруг размножения, селекционирования и выведения новых видов пчел, получения с них ресурсов и развития своей пасеки. Таким образом основными игровыми процессами, в которые будет вовлечен игрок следующие:

- содержание пчел, выбор пчел для размножения / селекционирования
- сбор и хранение продуктов, получаемых от пчел
- построении, развитие и автоматизации пасеки
- другие игровые активности:
    - торговля полученными ресурсами и пчелами на рынке, доступном для всех игроков
    - купля / продажа ресурсов в игровом магазине с фиксированными ценами и неограниченными ресурсами
    - коллекционирование новых видов пчел

Вовлечение игрока достигается за счет постоянного развития в виде пополнения коллекции видов пчел, улучшении их генетической структуры и создания автоматизации процессов на пасеке.

### Игровая механика

Игрок начинает с минимального, необходимого для развития набора:

- одна чистая природная королева
- один базовый улей
- одна базовая центрифуга

После смерти королевы, в улье появляются: одна принцесса, один или несколько дронов. Так же, пока живет королева, улей производит продукцию, соответствующую ее виду, например, медовые соты. Затем, когда игроку будут доступны несколько дронов и принцесс, игрок должен определить, какие из пчел будут скрещиваться в королеву. Полученные соты можно поместить в центрифугу, получая из нее производные продукты: мед и воск. Затем эти продукты можно продать на общем рынке или в магазине за внутриигровую валюту. Затем на эту валюту можно купить новые ульи, пчел и центрифуги с целью увеличения производства.

Продукты пчел кроме продажи могут быть использованы, как еда или входные материалы для других пчел. Например, если дать $Smelting$ дерево, то она произведет уголь (если брать аналогию из игры Minecraft). За счет этого, параллельно с генетическими ветками, можно вводить последовательность продуктов, которые передаются по этой цепочке. Например:

$$
Undergraduate\to Student\to Bachelor\to\ \ \  Master\to Doctor\newline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Math\to Algebra\to Analysis\ \to Topology\to Topological\ algebra
$$

Так как пчелы могут принимать несколько входных материалов, эта система напоминает игры жанра алхимия, где надо смешивать вещества, чтобы получить новые. Но можно ввести более сложную систему, добавив свойства продуктам. Например в качестве предметов могут быть поколения смайликов:

![](data/static/old/someday_maybe/programming_projects/Bee%20breeder/_static_gamedesign/Untitled%201.png)

В дальнейшем эти продукты можно продать на рынке или в магазине, чтобы получить внутриигровую валюту. Цены на рынке определяются самими игроками. Цены в магазине могут либо определяться разработчиком вручную, но тогда придется их корректировать, либо в соответствии с рынком, например покупка за 95% квантиль цены этого товара на рынке, а продажа за 5% квантиль.

### Скрещивание пчел

Пчелы скрещиваются согласно [схеме Менделя](https://ru.wikipedia.org/wiki/Законы_Менделя). У каждой пчелы есть набор генов и при наследовании учитываются гены родителей и их доминация: доминирующий ген преобладает над рецессивным, два доминирующих гена либо смешиваются (codominance), либо из них выбирается один случайный.

Примерный генотип пчелы:

- Production:
    - Production speed: Null, Slowest, Slow, Slower, Normal, Faster, Fast, Fastest, Robotic
        
        Выражается числом, название берется по промежуткам (Null = [0, 1), Slowest = [1, 2) и т.д.)
        
    - Lifetime: Null, Shortest, Short, Shorter, Normal, Longer, Long, Longest, Eternal
    - Product: Product_type
        
        Продукт, который производит пчела
        
- Appearance:
    - Color: Red, Green, Blue, 0xC0FFEE
        
        Цвет спрайта пчелы
        
    - Effect: Null, Animated, Enchanted
        
        Визуальный эффект спрайта пчелы
        
- Etc:
    - Species: Forest, Common
        
        Какому виду принадлежит пчела
        
    - Fertility: 1, 2, 3, 4, 5
        
        Сколько потомков пчела оставляет после смерти
        

При скрещивании некоторых видов может получиться пчела нового вида, имеющая дефолтное значение некоторых параметров, например
$Robotic\to Production:\ Robotic$

## Детали технической реализации

### Используемые технологии

Backend - Clojure/Ring,Compojure, GraphQL для API

TDD подход - сначала интерфейсы, потом тесты, потом код, CI тестирование на основе GitHub Actions

Микросервисы. Сервисы для:

авторизации и регистрации

торговли

игровая логика

хранения данных

Frontend - React (рендер) + Redux (state management) + (мб) React-Routes (для SPA)

[reduxjs/redux-thunk](https://github.com/reduxjs/redux-thunk)

Версионирование осуществляется согласно модели git-flow

[Шпаргалка по git-flow](https://danielkummer.github.io/git-flow-cheatsheet/index.ru_RU.html)