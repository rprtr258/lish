<!doctype html>

<head>
    <title>Sistine</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="/css/main.css">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&family=Newsreader:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <!-- Facebook Open Graph tags -->
    <meta property="og:url" content="https://sistine.vercel.app" />
    <meta property="og:title" content="Sistine, the static site engine" />
    <meta property="og:description" content="A simple, flexible, productive static site engine written in Ink" />
    <meta property="og:image" content="https://sistine.vercel.app/img/sistine-screenshot.png" />

    <!-- Twitter Card (large image card) tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:creator" content="@thesephist">
    <meta name="twitter:title" content="Sistine, the static site engine">
    <meta name="twitter:description" content="A simple, flexible, productive static site engine written in Ink" />
    <meta name="twitter:image" content="https://sistine.vercel.app/img/sistine-screenshot.png" />
</head>


<body>
<main>
    <header>
    <nav class="left-nav">
        <a href="/"><strong>Sistine</strong></a>
        <a href="/docs/">Docs</a>
        <a href="/start/">Get started</a>
    </nav>
    <nav class="right-nav">
        <a href="https://github.com/thesephist/sistine">GitHub</a>
    </nav>
</header>


    <article>
        
<div class="breadcrumbs">
    
        
        
    
        
        <span class="breadcrumb-item">
            <a href="/notes/">Notes</a>
        </span>
        
    
</div>


        
        <p>#someday_maybe #project</p><p>https://github.com/rprtr258/lisp-sh</p><h2>Features</h2><h1>processes pipes</h1><p>something like graph declaration:</p><pre><code>(pipe
    ("sorter" ("sort" "-u")
    "filter" ("rg" "500")
    "cutter" ("cut" "-d\" \"" "-f2-")) ; processes
    (("file" "logs.txt") ("stdin" "sorter")
    ("stdout" "sorter") ("stdin" "filter")
    ("stdout" "filter") ("stdin" "cutter")
    ("stdout" "cutter") "inherit"
    ("stderr" "sorter") ("file" "errors.txt")
    ("stderr" "filter") ("file" "errors.txt")
    ("stderr" "cutter") ("file" "errors.txt"))) ; pipes (aka edges)</code></pre><p>vim is not a function, should be called like</p><pre><code>(pipe
    (vim (vim $FILE$))
    ((stdin vim) (inherit stdin)
    (stdout vim) (inherit stdout)))</code></pre><p>fd is either stdin/stdout/stderr of a process, or file, or /dev/null, or string files on the left must exist, on the right can be created https://askubuntu.com/questions/678915/whats-the-difference-between-and-in-bash do a command to pipe stderr through automatically, sequential piping, more? https://en.wikipedia.org/wiki/Plumber_(program) https://stackoverflow.com/questions/70205473/pipe-between-two-child-processes https://gist.github.com/mplewis/5279108</p><h1>terminate/pause/return child processes</h1><p>https://stackoverflow.com/questions/49210815/how-do-i-send-a-signal-to-a-child-subprocess https://github.com/rust-lang/rust/blob/b7c6e8f1805cd8a4b0a1c1f22f17a89e9e2cea23/src/libstd/sys/unix/process/process_unix.rs#L367</p><h1>common lisp stl</h1><p>Depends on: namespaces<a href="https://sourceforge.net/p/clisp/clisp/ci/tip/tree/src/init.lisp">CLISP - an ANSI Common Lisp</a></p><h1>default arguments</h1><pre><code data-lang="lisp">; TODO: make default argument value, args to (&amp;key (start 0) (end 1) (step 1))
; (range &amp;start &amp;end &amp;step)</code></pre><p><a href="https://docs.python.org/3/library/argparse.html">argparse - Parser for command-line options, arguments and sub-commands - Python 3.10.2 documentation</a></p><h1>execute external programs and parse their output (s-exp/binary(asn?)) to add functions without modifying shell</h1><p><a href="https://en.wikipedia.org/wiki/Canonical_S-expressions">Canonical S-expressions - Wikipedia</a></p><h1>glob</h1><h1>iterators / seqs / streams</h1><p>Column: relation, transducer</p><h1>keyword args</h1><pre><code data-lang="lisp">; equivalent
git commit :a :m ; (lish)
git commit -am   ; (bash)
; equivalent
ps :a :u :x   ; (lish)
ps ::aux      ; (lish)
ps -aux       ; (bash)
ps -a -u -x   ; (bash)</code></pre><h1>lish make / goal oriented programming?</h1><p>https://en.wikipedia.org/wiki/Make_(software) https://www.gnu.org/software/make/manual/html_node/index.html shell function returns <code>Either&lt;Success, Error&lt;status_code, stderr, stdout>></code>https://en.wikipedia.org/wiki/Icon<em>(programming</em>language)<a href="https://matt.might.net/articles/intro-to-make/">A short introduction to make</a><a href="https://logicgrimoire.wordpress.com/2015/05/05/the-sentinel-file-pattern-3/">The Sentinel File Pattern</a> <a href="https://habr.com/en/post/599137/">makesure - make с человеческим лицом</a>https://ninja-build.org/manual.html</p><h1>metadata</h1><p>Column: trace,untrace</p><pre><code data-lang="lisp">; TODO: rewrite with meta and set
(defmacro defun-trace (f args body)
  `(defun ,f ,args
    (let
      (res ,body)
      (echo "(" ',f " " (str ,@args) ") = " res)
      res)))</code></pre><h1>namespaces</h1><p>Column: common lisp stl</p><h1>/ - paths joining operator</h1><p><a href="https://www.python.org/dev/peps/pep-0428/">PEP 428 -- The pathlib module -- object-oriented filesystem paths</a></p><pre><code data-lang="lisp">; эквивалентны
rm -rf "/" ;?
rm -rf $/
; эквивалентны
rm -rf "/home/abc/def" ; should strings be paths?
rm -rf $/home/abc/def
rm -rf (/ "home" "abc" "def")
rm -rf (/ 'home 'abc 'def) ;; symbol is elided to path?</code></pre><h1>realize hashmap/list to filesystem </h1><p><a href="https://250bpm.com/blog:153/index.html">250bpm</a></p><h1>relation programming</h1><p>Depends on: iterators</p><pre><code data-lang="lisp">(->> /etc/passwd
  (select)                             ; select "/etc/passwd"
  (filter #(in (get % 1) to-delete)) ; where t.1 in to-delete
  (filter #(= (get % 1) (get % 2)))  ; where t.1 = t.2
  (map #(get % 1))                   ; select t.1</code></pre><p>parallel map<a href="https://matt.might.net/articles/sql-in-the-shell/">Relational shell programming</a>bench<a href="https://adamdrake.com/command-line-tools-can-be-235x-faster-than-your-hadoop-cluster.html">Command-line Tools can be 235x Faster than your Hadoop Cluster</a></p><h1>rewrite some shell scripts in lish, .bashrc</h1><p>rofi (other?) scripts gtd scripts<a href="https://github.com/rprtr258/various-scripts/blob/master/min_books.py">rprtr258/various-scripts</a></p><h1>tests</h1><p><a href="https://github.com/kanaka/mal/tree/master/impls/tests">mal/impls/tests at master · kanaka/mal</a></p><h1>trace/untrace</h1><p>Depends on: metadata<a href="https://stackoverflow.com/a/42058202/15283421">Is defun or setf preferred for creating function definitions in common lisp and why?</a></p><h1>transducers</h1><p>Depends on: iterators</p><h1>документация для встроенных и определенных функций, макросов и специальных форм</h1><h1>TODOS</h1><h1>error reporting, not panicing</h1><h1>quote-to-string</h1><p><img alt="" src="data/static/old/someday_maybe/programming_projects/lisp_shell/quotes.png"/></p><pre><code data-lang="lisp">ssh a@a #'(ssh b@b #'(ssh c@c #'(ssh d@d #'(rm foo ; where #' is "quote-to-string" reader macro
(ssh a@a #'(ssh b@b #'(ssh c@c #'(ssh d@d #'(rm foo))))) ; is this
(as-> #'(rm foo) cmd
  #'(ssh d@d cmd)
  #'(ssh c@c cmd)
  #'(ssh b@b cmd)
  (ssh a@a cmd)) ; is something like this</code></pre><h1>show fun/macro arguments in status bar</h1><p><img alt="" src="data/static/old/someday_maybe/programming_projects/lisp_shell/tui.png"/>  https://www.google.com/search?q=ncurses%20rust</p><pre><code data-lang="lisp">;; args values suggestion
(defvariants :git-commands '(commit push status))
(def git (:git-command cmd) ...)
git &lt;Tab> ; shows git-commands
git com&lt;Tab> ; autocompletes to "git commit"</code></pre><p><a href="https://matt.might.net/articles/settling-into-unix/">Settling into Unix</a><a href="https://matt.might.net/articles/bash-by-example/">Shell programming with bash: by example, by counter-example</a><a href="https://github.com/babashka/babashka">babashka/babashka</a><a href="https://xon.sh/">The Xonsh Shell - Python-powered shell</a><a href="https://janet-lang.org/">The Janet Programming Language</a><a href="http://www.oilshell.org/">http://www.oilshell.org/</a><a href="https://github.com/chr15m/flk">https://github.com/chr15m/flk</a><a href="http://howardism.org/Technical/Emacs/eshell-present.html">Presenting the Eshell</a><a href="https://wikemacs.org/wiki/Eshell">Eshell</a><a href="https://scsh.net/about/what.html">A Description of Scsh</a><a href="https://github.com/metasoarous/oz">GitHub - metasoarous/oz: Data visualizations in Clojure and ClojureScript using Vega and Vega-lite</a><a href="https://matt.might.net/articles/programming-with-continuations--exceptions-backtracking-search-threads-generators-coroutines/">Coroutines, exceptions, time-traveling search, generators and threads: Continuations by example</a></p><p>https://habr.com/en/post/131921/ https://habr.com/en/post/122029/ https://tkatchev.bitbucket.io/tab/docs.html http://www.newlisp.org/newLISP<em>in</em>21_minutes.html https://github.com/ngs-lang/ngs https://build-your-own-x.vercel.app/#build-your-own-shell https://github.com/janestreet/shexp https://users.cs.northwestern.edu/~jesse/pubs/caml-shcaml/</p>
    </article>

    <footer>
    <p>
        Sistine is a project by
        <a href="https://thesephist.com/" target="_blank">Linus</a>
        built with
        <a href="https://dotink.co/" target="_blank">Ink</a>.
    </p>
</footer>

</main>

<script src="/js/main.js"></script>

</body>
